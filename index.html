<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Ahmad & Wardatul Wedding</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Montserrat:wght@300;400&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Cover -->
  <section class="cover">
    <p class="small">Undangan Pernikahan</p>

    <!-- Nama Tamu -->
    <p class="guest">Kepada Yth.<br><span id="guestName">Tamu Undangan</span></p>

    <h1>Ahmad Rosidi<br>&amp;<br>Wardatul Hasanah</h1>
    <p class="date">Senin, 30 Maret 2026</p>

    <!-- Countdown -->
    <div class="countdown">
      <div><span id="days">0</span><small>Hari</small></div>
      <div><span id="hours">0</span><small>Jam</small></div>
      <div><span id="minutes">0</span><small>Menit</small></div>
      <div><span id="seconds">0</span><small>Detik</small></div>
    </div>

    <a href="#content" class="btn">Buka Undangan</a>
  </section>

  <div id="content">
    <!-- Ayat -->
    <section class="section fade-up">
      <p class="quote">
        â€œDan di antara tanda-tanda kekuasaan-Nya ialah Dia menciptakan pasangan-pasangan untukmu dari jenismu sendiri agar kamu merasa tenteram.â€
        <br><span>(QS. Ar-Rum: 21)</span>
      </p>
    </section>

    <!-- Mempelai -->
    <section class="section fade-up">
      <h2>Mempelai</h2>

      <div class="card">
        <h3>Ahmad Rosidi</h3>
        <p>Putra dari<br>Ibu Asmara<br>&amp; Bapak Mursyid</p>
      </div>

      <div class="divider">â™¥</div>

      <div class="card">
        <h3>Wardatul Hasanah</h3>
        <p>Putri dari<br>Ibu Mutia<br>&amp; Bapak Alm. Abdurrahman</p>
      </div>
    </section>

    <!-- Acara -->
    <section class="section fade-up">
      <h2>Akad & Resepsi</h2>
      <p>Senin, 30 Maret 2026</p>
      <a class="btn-outline" href="https://goo.gl/maps/iAqbqMrJ1ZebaMQJ8?g_st=aw" target="_blank">
        Lihat Lokasi
      </a>
    </section>

    <section class="section fade-up">
  <h2>Konfirmasi Kehadiran</h2>
  <p>Mohon konfirmasi kehadiran Anda</p>

  <a class="btn" href="https://wa.me/628XXXXXXXXX?text=Assalamualaikum,%20saya%20akan%20hadir%20di%20acara%20pernikahan%20Rosi%20&%20Warda" target="_blank">
    Hadir
  </a>

  <br><br>

  <a class="btn-outline" href="https://wa.me/628XXXXXXXXX?text=Maaf,%20saya%20belum%20bisa%20hadir%20di%20acara%20pernikahan%20Rosi%20&%20Warda" target="_blank">
    Tidak Hadir
  </a>
</section>

  <section class="section fade-up">
  <h2>Ucapan & Doa</h2>

  <form class="wish-form">
    <input type="text" name="nama" placeholder="Nama Anda" required>
    <textarea name="ucapan" placeholder="Tulis ucapan dan doa..." required></textarea>
    <button type="submit" class="btn">Kirim Ucapan</button>
  </form>

  <div id="wishList" class="wish-list"></div>
</section>


    <!-- Penutup -->
    <section class="section fade-up">
      <p class="penutup">
        Merupakan suatu kehormatan dan kebahagiaan bagi kami apabila
        Bapak/Ibu/Saudara/i berkenan hadir dan memberikan doa restu.
      </p>
      <p class="thanks">Terima kasih ğŸ¤</p>
    </section>
  </div>

  <!-- SCRIPT -->
  <script>
    // ===== Nama Tamu dari URL =====
    const params = new URLSearchParams(window.location.search);
    const guest = params.get("to");
    if (guest) {
      document.getElementById("guestName").innerText = decodeURIComponent(guest.replace(/\+/g, " "));
    }

    // ===== Countdown =====
    const weddingDate = new Date("March 30, 2026 08:00:00").getTime();

    setInterval(() => {
      const now = new Date().getTime();
      const distance = weddingDate - now;

      if (distance < 0) return;

      document.getElementById("days").innerText = Math.floor(distance / (1000 * 60 * 60 * 24));
      document.getElementById("hours").innerText = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      document.getElementById("minutes").innerText = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      document.getElementById("seconds").innerText = Math.floor((distance % (1000 * 60)) / 1000);
    }, 1000);

    <!-- Firebase -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, addDoc, onSnapshot, query, orderBy } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  const firebaseConfig = {
      apiKey: "AIzaSyCzTI7XY1P5wga1LpZJZrnRbIrmghUBuAQ",
      authDomain: "undangan-afdb2.firebaseapp.com",
      projectId: "undangan-afdb2",
      storageBucket: "undangan-afdb2.firebasestorage.app",
      messagingSenderId: "116844618079",
      appId: "1:116844618079:web:d583cf909016356f4f96ea",
      measurementId: "G-VTK8TPT2X1"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const wishForm = document.querySelector(".wish-form");
  const wishList = document.getElementById("wishList");

  // Kirim ucapan
  wishForm.addEventListener("submit", async (e) => {
    e.preventDefault();

    const nama = wishForm.nama.value;
    const ucapan = wishForm.ucapan.value;

    if (!nama || !ucapan) return;

    await addDoc(collection(db, "ucapan"), {
      nama,
      ucapan,
      time: Date.now()
    });

    wishForm.reset();
  });

  // Ambil & tampilkan ucapan realtime
  const q = query(collection(db, "ucapan"), orderBy("time", "desc"));
  onSnapshot(q, (snapshot) => {
    wishList.innerHTML = "";
    snapshot.forEach(doc => {
      const data = doc.data();
      wishList.innerHTML += `
        <div class="wish-card">
          <strong>${data.nama}</strong>
          <p>${data.ucapan}</p>
        </div>
      `;
    });
  });
</script>


</body>
</html>
